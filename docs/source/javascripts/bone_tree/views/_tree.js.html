<!DOCTYPE html>

<html>
<head>
  <title>_tree.js.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../resources/base.css" />
  <link rel="stylesheet" media="all" href="../../../../resources/module.css" />
</head>
<body>
  <header>
    <h1>_tree.js.coffee</h1>
  </header>
  <div id="content">
    <div id="sidebar">
      
      <h4>Classes</h4>
      <ul class="classlist">
        
        <li><a href="#Views.Tree">Views.Tree</a></li>
        
      </ul>
      
      
    </div>
    <div id="main">
      
      
      <div id="classes">
        <h2>Classes</h2>
        
        <div class="class">
          <div class="header">
            <a id="Views.Tree"><h3>Views.Tree</h3></a>
            
            
            <a class="parent" href="#Backbone.View"><h3>extends Backbone.View</h3></a>
            
            
          </div>
          <div class="class_content">
            <p>Public: The base tree object. Events from other objects are proxied to the tree
        so API consumers only need to know about this top level object.</p>
            <div class="methods">
              
              
              <div class="instancemethods">
                <h3>Instance Methods</h3>
                
                <div class="method">
                  <h4>initialize()</h4>
                  <p>Public: Initialize a new filetree widget</p>

<ul>
<li>options          - An Object of global configuration options for the file tree.
<ul><li>autoOpenFiles  - A Boolean. If true, each file that is added to the tree
             immediately triggers an <code>openFile</code> event (default: true).</li>
<li>beforeAdd      - A Function that is invoked before each file is added to the tree.
             It is passed the raw file attributes and should return true if
             that file should be added to the tree and false if not. The
             default implementation is to return true.</li>
<li>confirmDeletes - A Boolean. If true, the tree will prompt the user, making
             sure they want to delete the file (default: false).</li>
<li>showExtensions - A Boolean. If true, files display their extensions. Internally,
             extensions are always kept track of but by default they are
             hidden (default: false).</li></ul></li>
</ul>
                </div>
                
                <div class="method">
                  <h4>addFile(filePath, fileData)</h4>
                  <p>Public: Method to add files and associated file data to the tree.</p>

<ul>
<li>filePath - A String that represents the directory path to the file.
         Directories that don't yet exist will be created. If no
         file is specified, eg. '/dir1/dir2/' then only the directories
         will be created and this method will return null.</li>
<li>fileData - An Object of attributes to store in the File object. This
         could represent information such as lastModified, fileContents,
         fileCreator, etc.</li>
</ul>

<p>Examples</p>

<pre><code>tree.addFile '/source/main.coffee',
  contents: "alert('hello world.')"
  lastModified: 1330725130170
# =&gt; &lt;File&gt;
</code></pre>

<p>Returns the File object if it was created and null if no file was given.</p>
                </div>
                
                <div class="method">
                  <h4>addFromJSON(data, currentPath)</h4>
                  <p>Public: Creates a file tree from a JSON representation. Expects the
        JSON object to have a <code>name</code> property at each level, specifying
        the name of the file or directory, and a files array if the
        current node has child directories or files.</p>

<ul>
<li><p>data        - An Object that represents hierarchical file data.</p></li>
<li><p>currentPath - A String representing the current location in the tree.
            Defaults to the file tree root. (default: "")</p></li>
</ul>

<p>Examples</p>

<pre><code>data = {
  name: "My Project"
  files: [
    { name: "Empty Folder" }
    { name: "SomeFile.coffee" }
    { name: "AnotherFile.coffee" }
    {
      name: "Folder with Files inside"
      files: [
        { name: "NestedFile.coffee" }
      ]
    }
  ]
}

tree.addFromJSON(data)
# =&gt; &lt;Tree&gt;
</code></pre>

<p>Returns the Tree view object.</p>
                </div>
                
                <div class="method">
                  <h4>addToTree(currentDirectory, remainingDirectories, fileName)</h4>
                  <p>Internal: Recursive method that traverses nodes, creating
          Files and Directories.</p>

<ul>
<li>currentDirectory     - A Node object representing which directory we are
                     adding the current Directory or File to.</li>
<li>remainingDirectories - A '/' separated String representing the remaining
                     directories to add.</li>
<li>fileName             - The String name of the file to be added. This can
                     include the extension name separated by a '.'.</li>
</ul>

<p>Examples</p>

<pre><code>tree.addToTree(@root, '/source/subdirectory/', 'main.coffee')
# =&gt; &lt;File&gt;
</code></pre>

<p>Returns the File object if it was created and null if no file was given.</p>
                </div>
                
                <div class="method">
                  <h4>beforeAdd(fileData)</h4>
                  <p>Internal: This function provides a filter to exclude files from the
          file tree based on conditions from their raw data. This function
          shouldn't be modified directly, it should instead by passed in
          as an option when instantiating the file tree. The default
          implementation is to return true and allow all files to be
          added to the tree.</p>

<ul>
<li>fileData - An Object containing the raw attributes of the file to be
         created. Use these to determine conditions to allow or
         exclude files from the tree.</li>
</ul>

<p>Examples</p>

<pre><code># set up a beforeAdd filter on the tree view
tree = new BoneTree.Views.Tree
  beforeAdd: (fileData) -&gt;
    if fileData.extension is 'wav'
      return false
    else
      return true
</code></pre>

<p>Returns true if the file should be added to the tree and false otherwise.</p>
                </div>
                
                <div class="method">
                  <h4>findOrCreateView(node)</h4>
                  <p>Internal: Look up existing view in the view cache or Create a new view
          of the correct type (either File or Directory).</p>

<ul>
<li>node - A Node object. Either a File object or a Directory object.
     This is the model that the view will be associated with.</li>
</ul>

<p>Examples</p>

<pre><code>file = new BoneTree.Models.File

# This will create a new view since we just created the File
tree.findOrCreateView(file)
# =&gt; &lt;FileView&gt;
</code></pre>

<p>Returns the view corresponding to the model passed in.</p>
                </div>
                
                <div class="method">
                  <h4>getModelByCid(cid)</h4>
                  
                </div>
                
                <div class="method">
                  <h4>closeDirectories()</h4>
                  <p>Public: Close all the directories in the file tree.</p>

<p>Examples</p>

<pre><code>tree.closeDirectories()
# =&gt; &lt;Tree&gt;
</code></pre>

<p>Returns the Tree view object.</p>
                </div>
                
                <div class="method">
                  <h4>closeMenu(e)</h4>
                  <p>Internal: Close the context menu. This is called every click on
          the document and closes the menu unless you are clicking
          within it. This shouldn't be called directly, it is called
          automatically by Backbone from user interactions.</p>

<p>Returns the Menu view object.</p>
                </div>
                
                <div class="method">
                  <h4>contextMenu(e)</h4>
                  <p>Internal: Open the context menu. This prevents the default browser
          context menu event. This shouldn't be called directly, it is
          called automatically by Backbone from user interations.</p>

<p>Returns the Menu view object.</p>
                </div>
                
                <div class="method">
                  <h4>filterNodes(nodeType, nodeName)</h4>
                  <p>Internal: Returns file tree nodes that match the nodeType and nodeName.</p>

<ul>
<li>nodeType - A String that represents the nodeType to match. Choices are
         'file' or 'directory'.</li>
<li>nodeName - A String that represents the name of the node to match.</li>
</ul>

<p>Examples</p>

<pre><code># Add some files to the tree
tree.addFile('/source/main.coffee')
tree.addFile('/source/player.coffee')

# returns an array containing the File 'main.coffee'
tree.filterNodes('file', 'main')
# =&gt; [&lt;File&gt;]
</code></pre>

<p>Returns an Array of nodes that match the filter criteria.</p>
                </div>
                
                <div class="method">
                  <h4>flatten(currentNode, results)</h4>
                  <p>Internal: Returns a one dimensional ordered array representing the
          Directory and File nodes in the tree.</p>

<ul>
<li>currentNode - The node to start at when flattening</li>
<li>nodeName - A String that represents the name of the node to match.</li>
</ul>

<p>Examples</p>

<pre><code># Add some files to the tree
tree.addFile('/source/main.coffee')
tree.addFile('/source/player.coffee')

# returns an array containing the File 'main.coffee'
tree.filterNodes('file', 'main')
# =&gt; [&lt;File&gt;]
</code></pre>

<p>Returns an Array of nodes that match the filter criteria.</p>
                </div>
                
                <div class="method">
                  <h4>getDirectory(directoryName)</h4>
                  <p>Public: Returns an array of directories matching the given directoryName.</p>

<ul>
<li>directoryName - A String naming the directory to match.</li>
</ul>

<p>Examples</p>

<pre><code># Add some files to the tree
tree.addFile('/source/main.coffee')
tree.addFile('/source/player.coffee')
tree.addFile('/directory2/file.coffee')

# returns an array containing the Directory 'source'
tree.getDirectory('source')
# =&gt; [&lt;Directory&gt;]
</code></pre>

<p>Returns an Array of Directory nodes that match directoryName.</p>
                </div>
                
                <div class="method">
                  <h4>getFile(fileName)</h4>
                  <p>Public: Returns an array of files match the given fileName.</p>

<ul>
<li>fileName - A String naming the files to match.</li>
</ul>

<p>Examples</p>

<pre><code># Add some files to the tree
tree.addFile('/source/main.coffee')
tree.addFile('/source/player.coffee')
tree.addFile('/directory2/main.coffee')

# returns an array containing both the files named main.
tree.getFile('main')
# =&gt; [&lt;File&gt;, &lt;File&gt;]

# return an array containing the file named player.
tree.getFile('player')
# =&gt; [&lt;File&gt;]
</code></pre>

<p>Returns an Array of File nodes that match fileName.</p>
                </div>
                
                <div class="method">
                  <h4>getFiles(directoryName)</h4>
                  <p>Public: Returns an array of files contained within the directory
        matching directoryName.</p>

<ul>
<li>directoryName - A String naming the directory to look inside.</li>
</ul>

<p>Examples</p>

<pre><code># Add some files to the tree
tree.addFile('/source/main.coffee')
tree.addFile('/source/player.coffee')
tree.addFile('/directory2/main.coffee')

# returns an array containing the files 'player.coffee' and 'main.coffee'
tree.getFiles('source')
# =&gt; [&lt;File&gt;, &lt;File&gt;]
</code></pre>

<p>Returns an Array of File nodes that are contained in the
Directory matching directoryName.</p>
                </div>
                
                <div class="method">
                  <h4>toAscii(collection, indentation, output)</h4>
                  <p>Internal: A String representation of the filetree.</p>

<ul>
<li>collection  - A NodeCollection object describing which folder to start at.</li>
<li>indentation - A Number describing how many spaces to indent the next filetree element (default: 0).</li>
<li>output      - A String representing the current filetree output (default: "\n").</li>
</ul>

<p>Examples</p>

<pre><code># Add some files to the tree
tree.addFile('/source/main.coffee')
tree.addFile('/source/player.coffee')
tree.addFile('/directory2/main.coffee')

tree.toAscii()
# =&gt; "
  -directory2
   -main.coffee
  -source
   -main.coffee
   -player.coffee
"
</code></pre>

<p>Returns a String representation of the sorted nodes of the file tree.</p>
                </div>
                
                <div class="method">
                  <h4>getModelFromClick(e)</h4>
                  <p>Internal: Look up a model based on the cid of the clicked view element.</p>

<p>Returns the Node corresponding to the view element that the user clicked on.</p>
                </div>
                
                <div class="method">
                  <h4>openDirectory(e)</h4>
                  <p>Internal: Toggle the directory icon and display the contents of the clicked Directory.</p>
                </div>
                
                <div class="method">
                  <h4>openFile(e)</h4>
                  <p>Internal: Trigger the 'openFile' event, passing in the file corresponding
          to the view element that the user clicked.</p>
                </div>
                
                <div class="method">
                  <h4>render()</h4>
                  <p>Internal: Call render on each of the nodes underneath the root node.
          Also calls sort on each of the subcollections.</p>
                </div>
                
              </div>
              
            </div>
          </div>
        </div>
        
      </div>
      
      
    </div>
  </div>
</body>
</html>
